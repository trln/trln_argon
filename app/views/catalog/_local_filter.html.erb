<h2 class="local-filter-heading" id="<%= filter_label_id %>">
  <%= t("trln_argon.local_filter.showing_results") %>
</h2>

<% query_state = query_state_from_search_state(search_state) %>
<% query_state.delete('page') %>
<% query_state.fetch('f', {}).delete(TrlnArgon::Fields::LOCATION_HIERARCHY_FACET.to_s) %>

<div class="toggle-wrapper">
  <div class="toggle toggle-local">
    <%= button_tag(type: "button", id: local_button_id, class: "btn btn-link d-flex p-0 text-decoration-none border-0 #{local_search_button_class}",
                  title: "#{t('trln_argon.local_filter.search_verb')} #{t('trln_argon.local_filter.searching_local', local_institution_name: institution_long_name)}",
                  onclick: "window.location='#{search_catalog_path(query_state)}'") do %>
      <div class="toggle-logo py-2 px-3">
        <div class="icon-wrapper"></div>
      </div>
      <div id="<%= local_button_id %>-label" class="toggle-label text-start d-flex align-self-center ms-2 pe-2" data-count-only-path="<%= trln_argon.catalog_count_only_path(query_state) %>">
        <%= t('trln_argon.local_filter.searching_local', local_institution_name: institution_long_name) %>
      </div>
    <% end %>
  </div>

  <div class="toggle-divider"></div>

  <div class="toggle toggle-trln">
    <%= button_tag(type: "button", id: trln_button_id, class: "btn btn-link d-flex p-0 text-decoration-none border-0 #{trln_search_button_class}",
                  title: "#{t('trln_argon.local_filter.search_verb')} #{t('trln_argon.local_filter.searching_trln')}",
                  onclick: "window.location='#{search_trln_path(query_state)}'") do %>
      <div class="toggle-logo py-2 px-3">
        <div class="icon-wrapper"></div>
      </div>
      <div id="<%= trln_button_id %>-label" class="toggle-label text-start d-flex align-self-center ms-2 pe-2" data-count-only-path="<%= trln_argon.trln_count_only_path(query_state) %>">
        <%= t('trln_argon.local_filter.searching_trln') %>
      </div>
    <% end %>
  </div>
</div>
