/* =============== */
/* COLORS          */
/* =============== */

a {
    color: $primary-link-color;
}

a:hover, a:focus {
    color: $primary-link-color;
}

.pagination > li > a, .pagination > li > span {
    color: $primary-link-color;
}

.pagination > .active > a, .pagination > .active > a:hover, .pagination > .active > a:focus, .pagination > .active > span, .pagination > .active > span:hover, .pagination > .active > span:focus {
    background-color: $primary-link-color;
    border-color: $primary-color;
}

.btn-primary {
    background-color: $secondary-color;
    border-color: $secondary-color;
}


#facets div.facet-limit-active {
  border-color: $secondary-color !important;

  h3.card-header {
    background-color: $secondary-color !important;
    border-color: $secondary-color !important;
    .btn {
      color: #fff;
    }
  }
}

.facet_limit-active .panel-heading.collapse-toggle .panel-title:after {
    color: #fff;
}

.facet_limit-active .panel-heading {
    a:hover {
        color: #fff;
    }
    a:focus {
        color: #fff;
    }
}


.facet-paging-alert p {
  text-align: left !important;
}

.panel-success, .facet_limit-active {
    border-color: $primary-color;
}

#facet-location_hierarchy_f a.remove,
#facet-lcc_callnum_classification_f a.remove {
  color: $primary-color;
  :hover {
    color: $not-available-color;
  }
}

#facets ul.facet-values,
#facets ul.facet-hierarchy {
  .facet-label span.selected,
  .selected.facet-count {
    color: #212529 !important;
  }
  .facet-label a.remove,
  .selected a.remove {
     color: $primary-color;
    :hover {
      color: $not-available-color;
    }
  }
}


/* =============== */
/* NAVBAR          */
/* =============== */

/* fix logo and toggler */
nav.navbar.topbar {
  .navbar-logo {
    background: transparent image_url($institution-logo) no-repeat left;
    background-size: contain;
  }

  .navbar-toggler {
    margin-left: auto;
  }

  .navbar-brand:nth-of-type(2) {
    margin: 0;
  }
}

.navbar-form {
    margin-left: 0;
    margin-right: 0;
}


.navbar-inverse {
    background-color: #fff;
    border-color: $primary-color;

    .navbar-nav > li > a {
       color: $secondary-color;
       text-transform: uppercase;
    }

    .navbar-nav > li > a:hover, .navbar-nav > li > a:focus {
        color: $tertiary-color;
    }
}

.navbar-static-top {
    border-width: 10px 0 0;
}


#header-navbar {

    .navbar-brand {
        margin: 8px;
        width: 300px;
        background-size: contain !important;
        color: #666;
    }

    .navbar-header {

      .navbar-toggle {
        background: $primary-color;
        border: 1px solid $secondary-color;
      }

      .navbar-toggle:hover {
        background: $secondary-color;
      }

    }

}

#user-util-collapse {
  border-color: #ccc;
}

.thumbnail {
    border: none;
    float: right;
    margin-left: 1em;
}


/* =============== */
/* LAYOUT          */
/* =============== */

body {
  border-top: none;
}


#document {

    display: flex;
    flex-direction: row;
    justify-content: flex-start;

    > div:first-of-type {
      overflow: hidden;
      width: 100%;
    }

    .thumbnail {
        flex-basis: auto;
    }

    dl {
        flex-basis: auto;

    }

    #title-and-thumbnail:after {
      content: "";
      display: table;
      clear: both;
    }

}

.table-responsive {
  border: none !important;
}

.input-group-element {
  display: table-cell;
  padding: 0 1em;
  border: none;
}

.input-group-addon.for-search-field {
    border-bottom: 0;
    border-top: 0;
}

#search_field {
    position: relative;
}



/* =============== */
/* SEARCH          */
/* =============== */

#search-navbar {

  .search-query-form {
    flex: 1 1 100%;
    margin-left: 0;
    margin-right: 0;
    padding-right: 0;
    max-width: unset;

    .mast-search {
      width: 100%;
      padding-top: 2em;
      margin-bottom: .5em;

      .search-field {
        background-color: #eee;
        flex: 0 0 8em;
        @include media-breakpoint-up(md) {
          flex: 0 0 10em;
        }
      }

      #q {
        border-radius: 0 !important;
        z-index: 1000;
      }

      .search-btn {
        border-top-left-radius: 0 !important;
        border-bottom-left-radius: 0 !important;
        border-width: 0px;
      }

    }

    a.advanced_search {
      margin-left: 8em;
      @include media-breakpoint-up(md) {
        margin-left: 10em;
      }
    }

  }

}


/* =============== */
/* RESULTS         */
/* =============== */

.primary-url {
  display: inline-block;
  margin-bottom: 0;

  ul {
    padding: 0;
    list-style: none;
    margin-bottom: 0;
    margin-left: 0 !important;

    li {
    padding: 0 0 10px 0;
    margin-bottom: 0 !important;
    }

  }

  .link-type-fulltext,
  .link-type-findingaid {
    /*border-radius: 4px;*/
    color: #fff;
    display: inline-block;
    background: darken($primary-color, 20%);
    padding: .5em .75em .5em 2em;
    /*border: 1px solid darken($primary-color, 10%)*/
    line-height: 1.2;
    text-align: left;
    }

    .link-type-fulltext:hover,
    .link-type-fulltext:focus,
    .link-type-findingaid:hover,
    .link-type-findingaid:focus {
      background: darken($primary-color, 10%);
      text-decoration: none;
    }


  .fa {
    display: block;
    float: left;
    margin-left: -1.3em;
    margin-top: .15em;

    &.fa-archive {
      margin-top: 0;
    }

  }

  ul li:first-child:nth-last-child(1) a {
    display: inline-block;
  }

}

.expander[aria-expanded=false].hider {
    display: none;
}

.expander[aria-expanded=false].shower {
    display: inline-block;
}

.expander[aria-expanded=true].hider {
    display: inline-block;
}

.expander[aria-expanded=true].shower {
    display: none;
}

.item-group {
  display: none;
}

.item-group-display {
  overflow: hidden;
  clear: both;
}

/**
 * Hide/Show large blocks of content, .e.g. Syndetics chapters
 */

section[aria-expanded=false] .expandable-content-controls .show-control.more,
dd[aria-expanded=false] .expandable-content-controls .show-control.more {
  display: inline;
}

section[aria-expanded=true] .expandable-content-controls .show-control.less,
dd[aria-expanded=true] .expandable-content-controls .show-control.less {
  display: inline;
}

.expandable-content-controls .show-control {
  display: none;
  float: right;
}

.contracted,
.contracted-ul {
  position: relative;
  overflow: hidden;
  margin-bottom: 1.5em;
  max-height: 4.5em;
}

.contracted:after {
  content: "";
  text-align: right;
  position: absolute;
  bottom: 0;
  right: 1em;
  width: 70%;
  height: 1.5em;
  background: linear-gradient(to right, rgba(245, 245, 245, 0), rgba(245, 245, 245, 1) 50%);
}

body.blacklight-catalog-show,
body.blacklight-trln-show {
  .contracted:after {
    width: 50%;
    background: linear-gradient(to right, rgba(255, 255, 255, 0), rgba(255, 255, 255, 1) 50%);
    right: 0;
  }
}

.location-narrow-group .row.contracted:after {
  background: linear-gradient(to right, rgba(237, 237, 237, 0), rgba(237, 237, 237, 1) 50%);
  right: 1em;
}



.show-document,
.index-document-metadata {
    ul {
      list-style-type: none;
      padding-left: 0;
      margin-left: 0;
    }
    li {
        margin-bottom: 4px;
    }

    #authors ul,
    #subjects ul,
    #included-works ul {
      list-style-type: square;
      padding-left: 1em;
      color: #767676;
    }
}

.solr-debug-info {
  color: #f09905;
  font-size: 125%;
  a {
    color: #f09905;
    text-decoration: underline;
  }
  .solr-debug-info-details {
    font-weight: bold;
  }
}

.index-document-metadata {
  margin-bottom: 1.5em;
}

@include media-breakpoint-up(md) {
  .show-document #authors ul,
  .show-document #subjects ul,
  .show-document #included-works ul {
    /*list-style-type: none;*/
    list-style-type: square;
    column-width: 20em;
    column-gap: 3em;
    column-fill: balance;
    padding-left: 0;
  }

  .show-document #authors ul {
    column-width: 15em;
  }
  .show-document #authors ul li,
  .show-document #subjects ul li,
  .show-document #included-works ul li {
    margin-bottom: 6px;
    display: inline-block;
    margin-left: 1em;
    width: 100%;
  }
  .show-document #authors ul li::before,
  .show-document #subjects ul li::before,
  .show-document #included-works ul li::before {
    content: '■';
    margin-left: -1.5em;
    display: block;
    float: left;
    margin-right: .5em;
    font-size: 60%;
    padding-top: .5em;
  }
}

#show-sub-header {
    li {
        font-size: 18px;
    }
}

.imprint-type {
    font-weight: normal;
}

.imprint-label {
    font-style: italic;
}


#footer {
  width: 100%;
  border: 50px solid #666;
  margin-top: 2em;
}


/* =============== */
/* MASTHEAD        */
/* =============== */

.blacklight-catalog-index #sortAndPerPage .search-widgets .btn-secondary {
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 3px;
  color: $secondary-link-color;
}

.search-widgets {
    text-align: right;
}



/* =============== */
/* SIDEBAR         */
/* =============== */

.panel-group .panel + .panel {
    margin-top: 15px;
}

/* Workaround for BL core's hard-coded facet toggle breakpoint.       */
/* This is a stopgap solution for Blacklight issue #2733 per TD-1172  */
/* and should be replaced w/a BL-friendly approach once resolved.     */
/* https://github.com/projectblacklight/blacklight/issues/2733        */

.facets-toggleable-md {
  @include media-breakpoint-up(md) {
    .facets-collapse {
      display: block !important;
      width: 100%;
    }

    .navbar-toggler {
      display: none;
    }
  }
}


/* =============== */
/* FACETS          */
/* =============== */

// Blacklight Hierarchy Icons
// https://github.com/sul-dlss/blacklight-hierarchy/blob/main/README.md#changing-the-icons

$b-h-closed-icon: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 320 512'><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d='M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z'/></svg>");

$b-h-opened-icon: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.--><path d='M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z'/></svg>");

.facet-hierarchy {
  .twiddle > .toggle-handle {
    .toggle-icon {
      background-color: $gray-600;
      min-width: 1rem;
      min-height: 1rem;
      background-image: none;
      mask-repeat: no-repeat;
      mask-position: center;
    }
    .closed {
      mask-image: $b-h-closed-icon;
    }
    .opened {
      mask-image: $b-h-opened-icon;
    }
  }

  .twiddle-open > .facet-label > a {
    font-weight: bold;
  }

  .facet-label, .facet-count {
    line-height: 1.2rem;
  }

  .more_locations_link, .less_locations_link {
    cursor: pointer;
  }
}

#checkbox_wrapper_access_type_f { // avalable online
  display: flex;
  flex-wrap: wrap;

  span.facet-label {
    margin-bottom: 0;
    line-height: 1.2;
    flex: 1 0 60%;
    margin-right: 2.5%;
    display: block;
    white-space: nowrap;

    input:hover, input:focus {
      cursor: pointer;
    }

    label {
      margin-bottom: 0;
      white-space: normal;
      color: $primary-link-color;
    }

    label:hover, label:focus {
      color: $primary-link-color;
      text-decoration: underline;
      cursor: pointer;
    }

    @include media-breakpoint-up(sm) {
      flex: 1 1 100%;
      margin-right: 0;
    }

    @include media-breakpoint-up(xl) {
      flex: 0 0 62.5%;
      margin-right: 2.5%;
    }
  }

  span.facet-count {
    line-height: 1.2;
    flex: 0 0 35%;
    text-align: right;
    display: block;

    @include media-breakpoint-up(sm) {
      flex: 1 1 100%;
      margin-left: 1.1em;
      text-align: left;
    }

    @include media-breakpoint-up(xl) {
      flex: 0 0 35%;
      text-align: right;
      margin-left: 0;
    }
  }
}

div.facet-content { // non-hierarcical facets

  ul.facet-values {
    width: 100%;
    display: block;
    margin-left: 0;
    padding-left: 0;
    margin-bottom: 0;

    li { // use flexbox for positioning of the hierarchy nodes
      display: flex;
      flex-wrap: wrap;
      margin-top: .5em;
      margin-bottom: .5em;

      &:first-child {
        margin-top: 0;
      }

      span.facet-label {
        padding-right: 0;
        text-indent: 0;
        padding-left: 0;
        padding-bottom: 0;
        max-width: 100%;
        flex: 1 1 67.5%;
        margin-right: 2.5%;
        margin-bottom: 0;
        line-height: 1.2;

        @include media-breakpoint-up(sm) {
          flex: 1 1 100%;
          margin-right: 0;
        }

        @include media-breakpoint-up(xl) {
          flex: 1 1 calc(62.5% - 1em);
          margin-right: 2.5%;
          margin-left: 1em; // reverse indentation
          text-indent: -1em; // reverse indentation
        }
      }

      span.facet-count {
        display: block;
        flex: 0 0 30%;
        text-align: right;
        line-height: 1.2;

        @include media-breakpoint-up(sm) {
          flex: 1 1 100%;
          text-align: left;
        }

        @include media-breakpoint-up(xl) {
          flex: 0 0 32.5%;
          text-align: right;
        }
      }
    }
  }
}

/* =============== */
/* RESULTS         */
/* =============== */

.text-success, .facet-values li .selected {
  color: $secondary-color;
}


#viewAllResults {

  text-align: center;
  margin-bottom: 1em;

  .toggle {

    display: inline-block;
    width: 45%;
    overflow: hidden;

    a { display: block; }

    label { display: none; cursor: pointer; }

    &.toggle-local {
      text-align: right;
      margin-right: -2px;
    }

    &.toggle-trln {
      text-align: left;
      margin-left: -2px;
    }

    .btn-outline-secondary {
      &:hover,
      &:not(:disabled):not(.disabled):active,
      &:focus {
        color: #333;
        background-color: #e6e6e6;
        border-color: #adadad;
      }
    }

  }

  .icon-wrapper {
    width: 26px;
    height: 40px;
    display: block;
  }

  #toggle-trln-btn-top,
  #toggle-local-btn-top,
  #toggle-trln-btn-bottom,
  #toggle-local-btn-bottom {
    padding-left: 24px;
    padding-right: 24px;
  }

  #toggle-trln-btn-top,
  #toggle-trln-btn-bottom  {
    border-top-left-radius: 0; border-bottom-left-radius: 0;
  }

  #toggle-local-btn-top,
  #toggle-local-btn-bottom {
    border-top-right-radius: 0; border-bottom-right-radius: 0;
  }

  #toggle-trln-btn-top .icon-wrapper,
  #toggle-trln-btn-bottom .icon-wrapper {
    background: transparent image_url($trln-icon-inverted) no-repeat left;
  }

  #toggle-local-btn-top .icon-wrapper,
  #toggle-local-btn-bottom .icon-wrapper {
    background: transparent image_url($institution-icon) no-repeat left;
  }

  body.blacklight-catalog & {

    #toggle-trln-btn-top .icon-wrapper,
    #toggle-trln-btn-bottom .icon-wrapper {
      background: transparent image_url($trln-icon) no-repeat left;
    }

    #toggle-local-btn-top .icon-wrapper,
    #toggle-local-btn-bottom .icon-wrapper {
      background: transparent image_url($institution-icon-inverted) no-repeat left;
    }

  }

}

@include media-breakpoint-up(md) {

  #viewAllResults {

    text-align: left;

    .toggle {

      display: block;
      width: 100%;
      overflow: hidden;

      &.toggle-local,
      &.toggle-trln {
        margin: 0;
      }

      &.toggle-local {
        text-align: left;
      }

      .btn { margin-right: 7px; }

      #toggle-trln-btn-top,
      #toggle-local-btn-top,
      #toggle-trln-btn-bottom,
      #toggle-local-btn-bottom {
        padding-left: 12px;
        padding-right: 12px;
        display: inline-block;
      }

      #toggle-trln-btn-top,
      #toggle-trln-btn-bottom {
        border-radius: 4px;
      }

      #toggle-local-btn-top,
      #toggle-local-btn-bottom {
        border-radius: 4px;
      }

      label {
       max-width: calc(100% - 65px);
       line-height: 1.1;
       display: inline-block;
       vertical-align: middle;
       font-weight: normal;
       color: #767676;

       &.active {
         font-weight: bold;
         color: $primary-link-color;
       }

      }

      a:hover label {
        color: $primary-link-color;
      }

    }

  }

}

#viewAllResultsEnd {

  margin-top: 1em;

  .toggle-wrapper {
    display: table;
  }

  .btn {
    display: none;
  }

  .toggle {
    width: 45%;
    display: table-cell;
    vertical-align: middle;

    &.toggle-local {
      text-align: right;
      border-right: 2px solid #ccc;
      padding-right: 2px;
    }

    &.toggle-trln {
      text-align: left;
    }

    label {
      padding: 10px; cursor: pointer;
    }

    a:hover label {
      color: $primary-link-color;
      text-decoration: underline;
    }

  }

  label {

    line-height: 1.2;
    font-weight: normal;
    color: #767676;

    &.active {
      font-weight: bold;
      color: $primary-link-color;
    }

  }

}



/* =============== */
/* ELEMENTS        */
/* =============== */

hr.dashed {
  border-top: 2px dotted rgba(0,0,0,.1);
}

.jumbotron-border {
  background-color: #f5f5f5;
  border: 1px solid #e3e3e3;
  margin-top: 2em;
}

ul.lead li {
  font-weight: 400;
}



/* =============== */
/* TYPOGRAPHY      */
/* =============== */

h1, h2, h3, h4, h5 {
  line-height: 1.2;
}

/* BS3 class that was removed in BS4 but we still */
/* use it. */
.page-header {
  padding-bottom: 12px;
  margin: 40px 0 24px;
  border-bottom: 1px solid #eeeeee;
}

#documents .document h3.document-title-heading {
  font-size: 1.4em;
  font-weight: 400;

  .document-counter {
    color: #707070;
  }

}

#document {

  h2 {
    color: #555;
    font-size: 1.8em;
    font-weight: 400;
    margin-top: 2em;
    padding-bottom: .15em;
    border-bottom: 2px solid #eee;
  }

  @include media-breakpoint-up(md) {
    #holdings h2 {
      margin-top: 0;
    }

    #show-sub-header {
      margin-bottom: 3em;
    }
  }

  h3 {
    color: #444;
    font-size: 1.3em;
    font-weight: 500;
    margin-top: 1.5em;
  }

  h3:first-of-type {
    margin-top: .75em;
  }

}

#document,
#documents {
  div.items h3,
  div.availability h3 {
    font-size: 1.2em;
    color: #707070;
    font-weight: 500;
    margin-top: 0;
    margin-bottom: .25em;
  }
}


/* =============== */
/* RESULTS         */
/* =============== */

#appliedParams {
  padding: 1.5rem 0 1.5rem 0;
  align-items: center;
  background-color: #f5f5f5;
  border-radius: 4px;
  border: 1px solid #e3e3e3;
  padding: 19px;

  .btn-group.constraint {
    span.constraint-value,
    a.btn {
      padding: 0.25rem 0.5rem;
      font-size: 0.875rem;
      line-height: 1.5;
    }
  }

  .applied-filter {
    margin: 3px 0 3px 0;
  }
}

#document h2.holdings-header {
  margin-bottom: .75em;
}

#document h3.institution-name {
  display: block;
  padding: 10px;
  margin: 0;
  color: #fff;
  background: #333;

  &.duke {
    background: $duke-blue;
  }

  &.nccu {
    background: $nccu-red;
  }

  &.ncsu {
    background: $ncsu-red;
  }

  &.trln {
    background: $trln-purple;
  }

  &.unc {
    background: $unc-blue;
  }

  &.shared-links {
    background: $shared-links-color;
  }

}



/* =============== */
/* ITEMS           */
/* =============== */

#documents .items,
#document #holdings .items {
  background: #f5f5f5;
  margin-bottom: 2em;
  overflow: hidden;
  border-radius: 0 0 4px 4px;
  padding: 1em 1.5em 1em 1.5em;

  .items-spacer {
    height: 1.5em;
  }

  .hathi-trust-link {
    width: 100%;
  }

  .item {
    padding-top: .5em;
    margin: .25em 0 .25em 0;
    overflow: hidden;
    border-bottom: 1px solid #e3e3e3;
    padding-bottom: .5em;

    &:last-of-type {
      border-bottom: none;
      padding-bottom: 0;
    }

  }

  .has-summary .item:nth-child(1):before {
    border-top: none;
  }

  .institution-availability {

    .item {
      display: flex;
      flex-wrap: wrap;

      .primary-url {
        display: flex;
        flex: 1 1 58.333;

        ul {
          width: 100%;
        }
      }

      .row {
        flex: 1 1 41.667%;
        .available {
          flex: 1 1 100%;
          max-width: 100%;
        }
      }

      @include media-breakpoint-between(sm, md) {
        .row {
          flex: 1 1 100%;
        }
      }

    }

    .item:last-of-type {
      div dl {
        margin-bottom: 0;
      }
    }

    .item:nth-child(n+1):before {
      margin: 0 0 0 0;
    }
  }

  .location-narrow-group {
    background: rgba(0,0,0,.03);
    width: 100%;
    border: 1px solid rgba(0,0,0,.05);
    margin: 1em .75em 0 .75em;
    padding: .5em 0 .5em 0;

    .call-number-wrapper,
    .summary-wrapper {
      dl {
        margin-bottom: 0;
      }
    }
    .summary-text-wrapper {
      padding-right: 1em;
    }
  }





  .location.loc-broad,
  .location.loc-narrow  {
    display: inline;
  }

  .location-header {
    margin-top: 0;
    margin-bottom: .25em;

    ~ .location-header {
      margin-top: 2.5em;
    }

    h3, h4 {
      font-size: 1.2em;
      margin-top: 0;
      margin-bottom: 0;
      color: #333;
    }

  }

  .dl-horizontal {
    margin-bottom: 0;
  }

  /* links that open in new windows; hide text in spans,
     show it on hover for a11y  */

  a.new-window-link span {
    height: 1px;
    left: -999px;
    overflow: hidden;
    position: absolute;
    top: auto;
    width: 1px;
  }

  a.new-window-link {
    &:hover, &:focus, &:active {
      span {
        background-color: #FFFFFF;
        border: 1px solid #999999;
        display: inline;
        height: inherit;
        left: inherit;
        margin-left: 0.5em;
        padding: 0.2em 0.2em 0.1em;
        position: absolute;
        top: inherit;
        width: inherit;
      }
    }
  }

  .url-note-wrapper {
    margin-top:10px;
  }

  .call-number-badge,
  .status-badge,
  .summary-badge,
  .latest-received-badge,
  .item-note-badge,
  .holding-note-badge,
  .url-note-badge {
    background: #e5e5e5;
    color: #444;
    border: 1px solid #ddd;
    padding-top: calc(.2em - 1px);
    padding-bottom: calc(.3em - 1px);
    margin-right: .25em;
  }

  .location-narrow-group .badge {
    background: rgba(255,255,255,.9);
  }

  .summary-text,
  .latest_ree
  .summary-holdings {
    word-wrap:break-word;
  }

  .btn-info {
    background-color: $primary-color;
    border-color: darken($primary-color, 10%);
  }



  .item-note {
    font-style: italic;
  }

  .item-available {
    color: $available-color;
  }

  .item-not-available {
    color: $not-available-color;
  }

  .item-library-only {
    color: $alt-available-color;
  }

  .item-availability-misc {
    color: $misc-available-color;
  }

  .items-toggle {
    margin-top: .5em;
  }

}


#documents .items {
  overflow: visible;
  margin-right: 1em;
}

#document .items,
#documents .items {

  dl {
    display: flex;
    flex-wrap: wrap;
  }

  dt {
    text-align: right;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    flex: 0 0 7em;
    margin-right: .25em;
  }

  dd {
    width: calc(100% - 7.75em);
    margin-bottom: 0;
    margin-right: .5em;
    flex: 1 1 calc(100% - 7.75em);
  }

}


@include media-breakpoint-up(md) {
  #document #holdings .items {
    .loc-narrow-banner a.expander,
    .item-details-link a {
      min-width: 70%;
    }
  }
}

@include media-breakpoint-up(lg) {
  #documents .items .item {
    overflow: hidden;
  }
}

@include media-breakpoint-up(xl) {
  #document #holdings .items {
    .primary-url { margin-bottom: 0;}
    /*.item { padding-bottom: 0; }*/
    .location-header ~ .location-header { margin-top: 2.5em; }
  }
}

body.blacklight-trln-index #documents .items {
  .location-header ~ .location-header {
    margin-top: 1.25em;
  }
}

.blacklight.thumbnail {
  margin-bottom: 0;
  padding: 0;
}

.thumbnail img {
  padding: 10px;
  border: 1px solid #ddd !important;
  border-radius: 0;
  margin: 5px 0 0 0;
}


.urls ul {
  list-style: none;
  margin: 0;
  padding: 0;
}

#document .hathi-trust-link .internet-archive-link .primary-url,
#documents .hathi-trust-link .internet-archive-link .primary-url {
  margin-bottom: 1.5em !important;
}


/* ================ */
/* SHOW             */
/* ================ */

.show-document #appliedParams {
  text-align: right;
  padding: 0 0 0 0;
}

.pagination-search-widgets {
  border-bottom: 0;
}

#document-tools .btn-outline-secondary {
  padding: 5px 10px;
  line-height: 1.5;
  border-radius: 3px;
  color: $secondary-link-color;
  margin-left: 5px;
  margin-bottom: 28px;
}

#document-tools .btn-outline-secondary:hover {
  color: #fff;
}

#document-tools li.bookmark {
  display: block;
  float: right;
  margin-top: 0;
  margin-right: 15px;
  margin-bottom: 15px;
  margin-left: 15px;
}

#show-sub-header {
  margin-top: 2em;
}


dl.document-metadata {
  column-count: 2;
  column-gap: 3em;
  dt {
    font-size: 1.2em;
    margin-top: 1em;
    color: #757575;
  }
  dt:first-of-type {
    margin-top: 0;
  }
  dd {
    margin-left: 0;
  }
  > div {
    page-break-inside: avoid;
    break-inside: avoid;
    margin-bottom: 1.2em;
  }
}




div.marc-record {
  text-align: right;
}




/* =============== */
/* SYNDETICS TOC   */
/* =============== */

#contents {
  ul.toc {
    margin-left: 0;
    li {
      &.toc-nest-level-1 {
        margin-left: 0;
        margin-top: 0.8em;
        .toc-element-number ~ .toc-element-title {
          font-weight: bold;
        }
        + .toc-nest-level-1 {
          margin-top: 0.5em;
        }
      }
      &.toc-nest-level-2 {
        margin-left: 2.5em;
        font-size: 95%;
      }
      &.toc-nest-level-3 {
        margin-left: 5em;
        font-size: 90%;
      }
      &.toc-nest-level-4 {
        margin-left: 7.5em;
        font-size: 85%;
      }
      &.toc-nest-level-5 {
        margin-left: 10em;
        font-size: 80%;
      }
      &.toc-nest-level-6 {
        margin-left: 12.5em;
        font-size: 80%;
      }
      &.toc-nest-level-7 {
        margin-left: 15em;
        font-size: 80%;
      }
    }
    .toc-element-number {
      font-weight: bold;
      margin-right: 0.5em;
    }
    .toc-element-pagerange {
      font-size: 90%;
      margin-left: 0.5em;
      color: #767676;
    }
    .toc-element-author {
      display: block;
      text-indent: 1em;
      }
  }
}


/* ================+ */
/* PROGRESSIVE LINKS */
/* ===============++ */

.progressive-link-hover {
  text-decoration: underline;
  background-color: lighten( $primary-link-color, 50% );
}

.progressive-link-hover:hover {
  color: darken( $primary-link-color, 40% );
}

#included-works .progressive-link-wrapper,
#related-works .progressive-link-wrapper {
  padding: 2px 0 2px 0;
}

#subjects li,
#included-works li {
  padding: 2px;
}

#subjects .progressive-link-wrapper,
#included-works .progressive-link-wrapper {
  padding: 2px 0 2px 0;
  margin-left: -2px;
}


#subjects .progressive-link-wrapper:hover,
#included-works .progressive-link-wrapper:hover,
#related-works .progressive-link-wrapper:hover {

}

#subjects .subject-separator,
#included-works .subject-separator,
#other-details .subject-separator {
  text-decoration: none !important;
  display: inline-block;
  margin-left: 5px;
  margin-right: 5px;
  font-size: .75em;
  font-weight: bolder;
  color: #737373;
}

#subjects .progressive-link-hover .subject-separator,
#included-works .progressive-link-hover .subject-separator {
  color: $primary-link-color;
}



/* ================ */
/* RESULTS DISPLAY  */
/* ================ */

.item-note-wrapper {
  clear: both;
}

.items .loc-narrow-banner a.expander {
  white-space: nowrap;
  min-width: 100%;
  margin-top: 1em;
}

.item-summary-link {
  text-align: right;
}


.item-details-link a {
  color: #fff;
  background: $primary-link-color;
  padding: .25em;
  display: block;
  text-align: center;
  max-width: 10em;
  margin-top: 1em;
  font-size: 12px;

  &:hover {
    text-decoration: none;
    background: lighten($primary-link-color, 10%);
  }

}

.item-details-link a::after {
  content: ' »';
}

h2.local-filter-heading  {
  font-size: 18px;
}



/* ================ */
/* ADVANCED SEARCH  */
/* ================ */

.blacklight-advanced {
  .search-query-form, .blacklight-advanced_trln .search-query-form {
    /* fixed via JS */
  }
  form.advanced span.option-wrapper {
    display: inline-block;
  }
}



/* =============== */
/* A11Y TWEAKS     */
/* =============== */

.pagination > .disabled > span, .pagination > .disabled > span:hover, .pagination > .disabled > span:focus, .pagination > .disabled > a, .pagination > .disabled > a:hover, .pagination > .disabled > a:focus {
  color: #686868;
}



/* =============== */
/* FEEDBACK LINK   */
/* =============== */

.feedback-link-wrapper {
  position: fixed;
  bottom: 5px;
  right: 15px;
  z-index: 100000000;
  margin-bottom: -4px;

  &:hover {
    margin-bottom: 0;
  }

}


.feedback-link {
  background-color: $primary-link-color;
  color: #fff;
  text-transform: uppercase;
  padding: 6px 12px 18px 12px;
  border-radius: 8px 8px 0 0;
  font-weight: 600;
  letter-spacing: .125em;
  font-size: .9em;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);

  &:hover,
  &:focus {
    text-decoration: none;
    color: #fff;
    background-color: $secondary-link-color;
  }
}

@include media-breakpoint-up(md) {

  .feedback-link-wrapper {
    bottom: 25%;
    right: -46px;
    transform: rotate(-90deg);
    margin-right: -4px;

    &:hover {
      margin-right: 0;
    }

  }

  .feedback-link {
    padding: 12px 24px 18px 24px;
    margin-right: -2px;
  }

}


/* ======================= */
/* TYPEAHEAD / AUTOSUGGEST */
/* ======================= */

.twitter-typeahead {
  z-index: auto;
  .tt-menu {
    max-height: 300px;
    overflow-y: auto;
  }

  .tt-suggestion {
    .tt-category {
      float: right;
      font-weight: 600;
      padding-right: 10px;
      color: $secondary-color;
    }
  }
}

.syndetics-copyright {
  text-align: right;
  color: #767676;
}

/* ================ */
/* HOLDINGS         */
/* ================ */

.holdings-wrapper {
  overflow: hidden;
}

div[aria-expanded=false] .expandable-content-controls .show-control.more {
  display: inline;
}

div[aria-expanded=true] .expandable-content-controls .show-control.less {
  display: inline;
}

.holdings-wrapper.contracted:after {
  background: linear-gradient(to right, rgba(243, 243, 243, 0), rgba(237, 237, 237, 1) 50%);
}

.holdings-wrapper.contracted {
  max-height: 90px;
}

.holdings-wrapper.contracted-ul {
  max-height: 110px;
}



/* ================ */
/* BOOKMARKS        */
/* ================ */

.bookmarksTools li {
  margin-right: 5px;
}

.advanced-search {
    display: flex;
    align-items: center;
}
